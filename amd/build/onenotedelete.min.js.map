{"version":3,"file":"onenotedelete.min.js","sources":["../src/onenotedelete.js"],"sourcesContent":["define(['jquery', 'core/templates', 'core/ajax', 'core/notification', 'core/str', 'core/modal_factory', 'core/modal_events'],\n    function($, templates, ajax, notification, Str, ModalFactory, ModalEvents) {\n        return {\n            init: function() {\n                var trigger = $('#deleteuserfeedback');\n                var gradeid = $(trigger).attr('gradeid');\n                var contextid = $(trigger).attr('contextid');\n                var userid = $(trigger).attr('userid');\n                ModalFactory.create({\n                    type: ModalFactory.types.SAVE_CANCEL,\n                    title: Str.get_string('deletefeedbackconfirm', 'assignfeedback_onenote'),\n                    body: Str.get_string('deletefeedbackconfirmdetail', 'assignfeedback_onenote'),\n                }, trigger)\n                    .done(function(modal) {\n                        modal.getRoot().on(ModalEvents.save, function(e) {\n                            // Stop the default save button behaviour which is to close the modal.\n                            e.preventDefault();\n                            var requests = ajax.call([{\n                                methodname: 'mod_assign_feedback_onenote_delete',\n                                args: {contextid: contextid, gradeid: gradeid, userid: userid}\n                            }]);\n\n                            requests[0].done(function() {\n                                location.reload();\n                            }).fail(notification.exception);\n                        });\n                    });\n            }\n        };\n    }\n);\n"],"names":["define","$","templates","ajax","notification","Str","ModalFactory","ModalEvents","init","trigger","gradeid","attr","contextid","userid","create","type","types","SAVE_CANCEL","title","get_string","body","done","modal","getRoot","on","save","e","preventDefault","call","methodname","args","location","reload","fail","exception"],"mappings":"AAAAA,8CAAO,CAAC,SAAU,iBAAkB,YAAa,oBAAqB,WAAY,qBAAsB,sBACpG,SAASC,EAAGC,UAAWC,KAAMC,aAAcC,IAAKC,aAAcC,mBACnD,CACHC,KAAM,eACEC,QAAUR,EAAE,uBACZS,QAAUT,EAAEQ,SAASE,KAAK,WAC1BC,UAAYX,EAAEQ,SAASE,KAAK,aAC5BE,OAASZ,EAAEQ,SAASE,KAAK,UAC7BL,aAAaQ,OAAO,CAChBC,KAAMT,aAAaU,MAAMC,YACzBC,MAAOb,IAAIc,WAAW,wBAAyB,0BAC/CC,KAAMf,IAAIc,WAAW,8BAA+B,2BACrDV,SACEY,MAAK,SAASC,OACXA,MAAMC,UAAUC,GAAGjB,YAAYkB,MAAM,SAASC,GAE1CA,EAAEC,iBACaxB,KAAKyB,KAAK,CAAC,CACtBC,WAAY,qCACZC,KAAM,CAAClB,UAAWA,UAAWF,QAASA,QAASG,OAAQA,WAGlD,GAAGQ,MAAK,WACbU,SAASC,YACVC,KAAK7B,aAAa8B"}